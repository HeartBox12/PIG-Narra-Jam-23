[gd_scene load_steps=17 format=3 uid="uid://d0fatpj1xblfe"]

[ext_resource type="Script" path="res://scripts/Main.gd" id="1_1ygro"]
[ext_resource type="PackedScene" uid="uid://mpydbc355a5" path="res://scenes/NPC.tscn" id="3_a5knq"]
[ext_resource type="Texture2D" uid="uid://ldcd6s2nvhek" path="res://Dialogue/Characters/Hana/Hana_idle.png" id="3_cvkxa"]
[ext_resource type="PackedScene" uid="uid://cgdnc42xanwqm" path="res://Player/Player.tscn" id="5_62vt8"]
[ext_resource type="PackedScene" uid="uid://ckny7hpmgtnci" path="res://scenes/transition.tscn" id="6_w4pot"]
[ext_resource type="Texture2D" uid="uid://bsv0rhvofofdq" path="res://sprites/title_test/title/test_title0000.png" id="7_1ms0i"]
[ext_resource type="PackedScene" uid="uid://rxrei1k6h0gp" path="res://scenes/foyerdress.gltf" id="7_wjiuj"]
[ext_resource type="Script" path="res://scenes/titleCard.gd" id="8_ts1bv"]
[ext_resource type="PackedScene" uid="uid://cx224vhy5ntcw" path="res://scenes/Foyer/foyerdress(withCollisions.tscn" id="9_57sth"]
[ext_resource type="Script" path="res://scripts/ExitStageLeft.gd" id="9_b2gcd"]
[ext_resource type="Script" path="res://scenes/exit.gd" id="11_wxneo"]

[sub_resource type="BoxShape3D" id="BoxShape3D_t5y6s"]
size = Vector3(60, 2, 60)

[sub_resource type="BoxMesh" id="BoxMesh_sc2gv"]
size = Vector3(60, 2, 60)

[sub_resource type="Environment" id="Environment_6umgv"]
background_mode = 1
background_color = Color(0.1512, 0.18684, 0.27, 1)
adjustment_enabled = true

[sub_resource type="BoxShape3D" id="BoxShape3D_gawkk"]

[sub_resource type="BoxShape3D" id="BoxShape3D_p0ics"]

[node name="Main2" type="Node3D"]
script = ExtResource("1_1ygro")

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, -1, 0)
visible = false
collision_mask = 5

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
visible = false
shape = SubResource("BoxShape3D_t5y6s")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
visible = false
mesh = SubResource("BoxMesh_sc2gv")

[node name="NPC" parent="." instance=ExtResource("3_a5knq")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -5.041, 0.919, 13.996)
Sprite = ExtResource("3_cvkxa")
FMODEvent = 1

[node name="Transition" parent="." instance=ExtResource("6_w4pot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.7696, 1, -26.9876)
dest = "res://scenes/TEST.tscn"

[node name="dest0" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 38)

[node name="dest1" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 38, 0, 0)

[node name="dest2" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -16)

[node name="Origin" type="Marker3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.939693, 0.34202, 0, -0.34202, 0.939693, 2.939, 19.22, 24.567)
projection = 1
current = true
size = 50.0

[node name="Title" type="Sprite3D" parent="Camera3D"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, -0.0248861, -5.22431)
texture = ExtResource("7_1ms0i")
script = ExtResource("8_ts1bv")

[node name="player" parent="." instance=ExtResource("5_62vt8")]
transform = Transform3D(2.5, 0, 0, 0, 2.5, 0, 0, 0, 2.5, 2.052, -1, -2.977)

[node name="foyerdress" parent="." instance=ExtResource("7_wjiuj")]
transform = Transform3D(-2.7232, 0, 4.19335, 0, 5, 0, -4.19335, 0, -2.7232, 0, 0, 0)
visible = false

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.52716, 23, 2.23462)
light_color = Color(0.611765, 0.537255, 0.537255, 1)
light_energy = 11.515
omni_range = 130.517

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_6umgv")

[node name="Timer" type="Timer" parent="."]
wait_time = 10.0

[node name="FoyerWithCollisions" parent="." instance=ExtResource("9_57sth")]
transform = Transform3D(-2.7232, 0, 4.19335, 0, 5, 0, -4.19335, 0, -2.7232, 0, 0, 0)

[node name="Exit" type="Area3D" parent="FoyerWithCollisions"]
transform = Transform3D(1, 0, -1.78814e-07, 0, 1, 0, 1.78814e-07, 0, 1, 2.42877, 1, 6.85656)
collision_layer = 6
collision_mask = 0
script = ExtResource("9_b2gcd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="FoyerWithCollisions/Exit"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.48844, 0)
shape = SubResource("BoxShape3D_gawkk")

[node name="ShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(-2.7232, 0, 4.19335, 0, 5, 0, -4.19335, 0, -2.7232, 20.4186, 1.73264, -6.17656)
shape = SubResource("BoxShape3D_p0ics")
target_position = Vector3(0, 0, 0)
collision_mask = 6
script = ExtResource("11_wxneo")

[connection signal="body_entered" from="FoyerWithCollisions/Exit" to="." method="_on_body_entered"]
